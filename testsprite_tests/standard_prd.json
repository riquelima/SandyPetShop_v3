{
  "meta": {
    "project": "Sandy's Pet Shop v3",
    "date": "2025-10-20",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Sandy's Pet Shop v3 is a comprehensive web application designed to manage a modern pet shop's services including scheduling, subscription clients, mobile services, daycare, and pet hotel solutions. Developed with React, TypeScript, Vite, and Supabase, it provides an efficient and intuitive experience for both customers and administrators.",
  "core_goals": [
    "Automate appointment scheduling with robust capacity and conflict validation.",
    "Manage recurring subscription clients with flexible frequency options.",
    "Expand service offerings to include mobile grooming, daycare, and pet hotel services.",
    "Optimize operational efficiency by reducing manual workload with an integrated management system.",
    "Enhance customer experience through a responsive, intuitive interface and transparent pricing.",
    "Maintain high-quality control with status tracking and comprehensive administrative dashboards.",
    "Facilitate communication via integrated notifications and WhatsApp formatting.",
    "Generate actionable business insights through detailed reports and analytics."
  ],
  "key_features": [
    "Complete scheduling system with conflict detection, capacity control, and real-time dynamic pricing based on pet weight and additional services.",
    "Mobile grooming service with specific scheduling for condominiums and address management.",
    "Subscription management for recurring clients with automated future appointment generation and payment controls.",
    "Daycare (Creche) service with detailed enrollment forms, veterinary info, behavior tracking, and flexible frequency plans.",
    "Pet hotel service featuring check-in/out management, feeding details, additional services, and digital consent signatures.",
    "Administrative panel with dashboards, appointment management, client and subscription controls, and comprehensive reports.",
    "Supabase-based authentication and database integration with session management and RLS policies.",
    "Responsive design prioritizing mobile-first user experience across all components.",
    "Notification system with modals for alerts and confirmations in various success and error variants.",
    "Advanced business validations enforcing working hours, capacity, weight restrictions, and overlap detection."
  ],
  "user_flow_summary": [
    "Customer schedules a service by selecting service type, date, time, pet details, additional services, then confirms the appointment.",
    "Administrators log in via secure Supabase Auth and access the admin dashboard to manage appointments, clients, subscriptions, and reports.",
    "Subscription clients are registered with desired recurrence frequency, triggering automated future appointment creation and payment oversight.",
    "Mobile grooming appointments are booked with address validation and condominium-specific scheduling without capacity limits.",
    "Daycare and pet hotel services require detailed forms for enrollment or stay management, including veterinary and behavioral data, check-in/check-out, and additional service selection."
  ],
  "validation_criteria": [
    "Appointments must adhere to working hours of 9:00 to 17:00 with a lunch break from 12:00 to 13:00.",
    "Maximum of 2 simultaneous appointments allowed per time slot for regular services.",
    "Pricing dynamically updates in real-time based on pet weight and selected service additions.",
    "Conflicting or overlapping appointments for the same pet are prevented via robust validation.",
    "Subscription recurrence schedules generate appointments automatically and reflect client status accurately.",
    "All data inputs conform to Brazilian date, WhatsApp phone, and currency formatting standards.",
    "Authentication and session management strictly enforced via Supabase Auth with role-based access.",
    "Notification modals correctly display success and error states corresponding to user actions.",
    "System supports timezone UTC-3 (São Paulo) consistently across all date and time related validations and functionalities."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React 19.1.1",
      "Vite 6.2.0",
      "Supabase",
      "PostgreSQL",
      "Tailwind CSS",
      "Supabase Auth"
    ],
    "features": [
      {
        "name": "Sistema de Agendamentos Corrigido",
        "description": "Sistema completo de agendamento com validação de fluxo corrigida, controle de capacidade e validação robusta de conflitos",
        "files": [
          "App.tsx",
          "types.ts",
          "constants.ts"
        ]
      },
      {
        "name": "Exibição Dinâmica de Preços",
        "description": "Cálculo e exibição em tempo real de preços baseados no peso do pet e serviços adicionais com detalhamento de custos",
        "files": [
          "App.tsx",
          "constants.ts"
        ]
      },
      {
        "name": "Validação de Conflitos de Agendamento",
        "description": "Sistema robusto de detecção de conflitos que previne agendamentos sobrepostos e duplicados para o mesmo pet",
        "files": [
          "App.tsx"
        ]
      },
      {
        "name": "Pet Móvel",
        "description": "Serviços de banho e tosa no domicílio do cliente com agendamento específico para condomínios e controle de endereços",
        "files": [
          "App.tsx",
          "types.ts"
        ]
      },
      {
        "name": "Clientes Mensalistas",
        "description": "Sistema de assinatura para clientes recorrentes com diferentes frequências (semanal, quinzenal, mensal) e geração automática de agendamentos",
        "files": [
          "App.tsx",
          "types.ts"
        ]
      },
      {
        "name": "Creche Pet",
        "description": "Serviço de daycare para pets com formulário completo de matrícula, informações veterinárias e planos de frequência",
        "files": [
          "App.tsx",
          "types.ts"
        ]
      },
      {
        "name": "Hotel Pet",
        "description": "Sistema de hospedagem para pets com check-in/check-out controlados, informações de alimentação e serviços adicionais",
        "files": [
          "App.tsx",
          "types.ts"
        ]
      },
      {
        "name": "Painel Administrativo",
        "description": "Interface completa para gestão do negócio com dashboard, gestão de agendamentos, controle de clientes e relatórios",
        "files": [
          "App.tsx"
        ]
      },
      {
        "name": "Sistema de Autenticação",
        "description": "Sistema de login administrativo usando Supabase Auth com controle de sessões e credenciais configuradas",
        "files": [
          "App.tsx",
          "supabaseClient.ts"
        ]
      },
      {
        "name": "Gerenciamento de Timezone",
        "description": "Funções específicas para controle de fuso horário UTC-3 (São Paulo) com validações de datas",
        "files": [
          "App.tsx"
        ]
      },
      {
        "name": "Validações de Negócio Aprimoradas",
        "description": "Sistema de validações incluindo capacidade máxima, horários válidos, peso mínimo e detecção de conflitos com mensagens específicas",
        "files": [
          "App.tsx",
          "constants.ts"
        ]
      },
      {
        "name": "Formatação de Dados",
        "description": "Funções para formatação de WhatsApp, datas brasileiras e preços monetários",
        "files": [
          "App.tsx"
        ]
      },
      {
        "name": "Componentes de Interface Melhorados",
        "description": "Biblioteca de componentes React incluindo AlertModal, ConfirmationModal, DatePicker e formulários com navegação corrigida",
        "files": [
          "App.tsx"
        ]
      },
      {
        "name": "Sistema de Preços Dinâmico",
        "description": "Modelo de preços dinâmico com exibição em tempo real baseado no peso do pet e tipo de serviço com breakdown detalhado",
        "files": [
          "constants.ts",
          "types.ts",
          "App.tsx"
        ]
      },
      {
        "name": "Integração Supabase",
        "description": "Configuração e integração completa com Supabase para banco de dados, autenticação e notificações",
        "files": [
          "supabaseClient.ts",
          "App.tsx"
        ]
      },
      {
        "name": "Responsividade Mobile",
        "description": "Design responsivo mobile-first com componentes adaptáveis para diferentes tamanhos de tela",
        "files": [
          "App.tsx"
        ]
      },
      {
        "name": "Sistema de Notificações",
        "description": "Sistema de alertas e confirmações com diferentes variantes (sucesso, erro) e modais interativos",
        "files": [
          "App.tsx"
        ]
      }
    ]
  }
}
